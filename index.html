<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>El Rey de las Empanadas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
 font-family:Arial,sans-serif;
 background:#f4f4f4;
 margin:0;
 padding:10px;
}
h1{
 text-align:center;
 color:#b30000;
 margin-bottom:5px;
}
h1 small{
 display:block;
 font-size:12px;
 color:#555;
}
.section-title{
 background:#b30000;
 color:white;
 padding:8px 12px;
 border-radius:8px;
 margin-bottom:10px;
 font-size:18px;
}
.sub-title{
 font-weight:bold;
 color:#b30000;
 margin:12px 0 6px;
 font-size:15px;
 border-bottom:1px solid #eee;
}
.card{
 background:white;
 padding:15px;
 border-radius:12px;
 margin-bottom:20px;
 box-shadow:0 2px 6px rgba(0,0,0,.1);
}
.item{
 display:flex;
 justify-content:space-between;
 align-items:center;
 padding:8px 0;
 border-bottom:1px dashed #eee;
}
.item:last-child{border-bottom:none}
.name{font-weight:bold;font-size:15px;}
.desc{font-size:12px;color:#777;margin-top:2px;}

.controls button{
 width:30px;height:30px;border:none;
 border-radius:6px;font-size:18px;cursor:pointer;
}
.controls .plus{background:#25D366;color:white;}
.controls .minus{background:#b30000;color:white;}

.selector{display:flex;gap:10px;margin:10px 0;}
.selector button{
 flex:1;padding:10px;font-size:16px;
 border-radius:8px;border:1px solid #ccc;background:#eee;
}
.selector button.active{background:#b30000;color:white;}

.input-area input,.input-area textarea{
 width:100%;padding:8px;margin:6px 0;
 font-size:16px;border-radius:6px;border:1px solid #ccc;
}

.total{
 background:white;padding:15px;border-radius:12px;
 box-shadow:0 3px 8px rgba(0,0,0,.15);
}

.notice{
 background:#fff3cd;
 color:#b30000;
 padding:10px;
 border-radius:6px;
 margin:10px 0;
 font-weight:bold;
 text-align:center;
}

/* QR */
.qr-box{
 margin-top:25px;
 background:#fff;
 border:3px solid #b30000;
 border-radius:14px;
 padding:20px;
 text-align:center;
 box-shadow:0 4px 10px rgba(0,0,0,.15);
}
.qr-box img{
 width:220px;
 margin:10px auto;
 display:block;
}
.qr-box p{
 font-size:16px;
 font-weight:bold;
 color:#b30000;
 margin:10px 0;
}
.qr-box a{
 display:inline-block;
 margin-top:8px;
 font-size:15px;
 color:#25D366;
 font-weight:bold;
 text-decoration:none;
}

button.send{
 width:100%;
 padding:15px;
 background:#25D366;
 color:white;
 font-size:20px;
 border:none;
 border-radius:12px;
 margin-top:10px;
}
</style>
</head>

<body>

<h1>üëë El Rey de las Empanadas
<small>Horario: 17:00 a 23:00 | Lunes cerrado | Delivery 18:30 a 23:00</small>
</h1>

<div id="menu"></div>

<div class="total">
<div class="section-title">üõí Resumen del pedido</div>
<div id="resumen"><small>No hay productos seleccionados</small></div>

<p><b>Total:</b> <span id="total">$0</span></p>

<div id="avisoEnvio" class="notice" style="display:none">
‚è≥ Esperar confirmaci√≥n del costo total con env√≠o
</div>

<div class="section-title">üöö Forma de entrega</div>
<div class="selector">
<button id="btnMostrador" class="active" onclick="setEntrega('Mostrador')">Retiro en mostrador</button>
<button id="btnDelivery" onclick="setEntrega('Delivery')">Delivery</button>
</div>

<div class="input-area">
<input id="nombre" placeholder="Nombre">
<input id="direccion" placeholder="Direcci√≥n" style="display:none">
<textarea id="observaciones" placeholder="Observaciones" style="display:none"></textarea>
</div>

<div class="section-title">üí≥ Forma de pago</div>
<div class="selector">
<button id="btnEfectivo" class="active" onclick="setPago('Efectivo')">Efectivo</button>
<button id="btnTransferencia" onclick="setPago('Transferencia')">Transferencia</button>
</div>

<div id="transferNotice" class="notice" style="display:none">
El enlace de transferencia aparecer√° en WhatsApp. Enviar comprobante.
</div>

<input id="efectivoCambio" placeholder="¬øNecesita cambio?">

<button class="send" onclick="enviar()">üì≤ Enviar pedido</button>
</div>

<div class="qr-box">
<p>üì≤ Escane√° para hacer tu pedido</p>
<img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=https://reydelasempanadas.github.io/el-rey-de-las-empanadas/">
<a href="https://reydelasempanadas.github.io/el-rey-de-las-empanadas/" target="_blank">
üëâ Click en el enlace para hacer tu pedido
</a>
</div>

<script>
let entrega="Mostrador", pago="Efectivo", carrito={}, precios={}, total=0;

function setEntrega(t){
 entrega=t;
 btnMostrador.classList.toggle("active",t==="Mostrador");
 btnDelivery.classList.toggle("active",t==="Delivery");
 direccion.style.display=observaciones.style.display=t==="Delivery"?"block":"none";
 avisoEnvio.style.display=t==="Delivery"?"block":"none";
 totalSpan();
}

function setPago(p){
 pago=p;
 btnEfectivo.classList.toggle("active",p==="Efectivo");
 btnTransferencia.classList.toggle("active",p==="Transferencia");
 transferNotice.style.display=p==="Transferencia"?"block":"none";
}

function totalSpan(){
 totalSpanText = entrega==="Delivery" ? `$${total} + env√≠o` : `$${total}`;
 document.getElementById("total").innerText=totalSpanText;
}

function enviar(){
 let msg="üßæ *Pedido ‚Äì El Rey de las Empanadas*%0A";
 msg+=`%0Aüëâ Click en el enlace para hacer tu pedido`;
 if(entrega==="Delivery") msg+=`%0Aüö® SE NECESITA COTIZAR CON ENV√çO`;
 window.open("https://wa.me/59892663559?text="+msg);
}
</script>

</body>
</html>
