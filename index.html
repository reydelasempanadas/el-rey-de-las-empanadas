<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>El Rey de las Empanadas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
 font-family:Arial, sans-serif;
 background:#f6f6f6;
 margin:0;
 padding:10px;
}
h1{text-align:center;color:#b30000}
h2{color:#333;margin-top:30px}
.card{
 background:white;
 padding:15px;
 border-radius:10px;
 margin-bottom:15px;
 box-shadow:0 2px 6px rgba(0,0,0,.1);
}
.item{
 display:flex;
 justify-content:space-between;
 align-items:center;
 margin:8px 0;
}
.name{font-weight:bold}
.desc{font-size:12px;color:#666}
.controls button{
 width:30px;height:30px;
 font-size:18px;
 border:none;
 background:#b30000;
 color:white;
 border-radius:5px;
}
.controls span{margin:0 8px}
.total{
 background:#fff;
 padding:15px;
 border-radius:10px;
 margin-top:20px;
 font-size:18px;
}
select,input,textarea{
 width:100%;
 padding:8px;
 margin:5px 0;
 font-size:16px;
}
button.send{
 width:100%;
 padding:15px;
 background:#25D366;
 color:white;
 font-size:20px;
 border:none;
 border-radius:10px;
}
small{color:#777}
</style>
</head>

<body>

<h1> El Rey de las Empanadas</h1>

<p><b> Entrega:</b> 18:30 a 23:00</p>

<div id="menu"></div>

<div class="total">
<h2> Resumen</h2>
<div id="resumen"></div>
<p><b>Total:</b> $<span id="total">0</span></p>
<small>Env铆o no incluido</small>

<h3>Entrega</h3>
<select id="entrega">
<option value="Mostrador">Retiro en mostrador</option>
<option value="Delivery">Delivery</option>
</select>

<input id="nombre" placeholder="Nombre">
<input id="direccion" placeholder="Direcci贸n (solo delivery)">

<h3>Pago</h3>
<select id="pago">
<option>Efectivo</option>
<option>Transferencia (enviar comprobante)</option>
</select>

<button class="send" onclick="enviar()"> Enviar pedido</button>
</div>

<script>
const productos = [
 {cat:"Empanadas",items:[
  ["Carne","Criolla","carne y huevo"],
  ["Carne","Mendocina","carne, huevo y aceituna"],
  ["Carne","Mexicana","carne, huevo, aceituna y pimienta"],
  ["Carne","Cordobesa","carne, huevo y pasas"],
  ["Carne","Mixta","carne, huevo, choclo y calabresa"],
  ["Carne","Gallega","carne, huevo y panceta"],
  ["Carne","Burguer","carne, cebolla y cheddar"],
  ["Pollo","Pollo cl谩sico","pollo, salsa y huevo"],
  ["Pollo","Pollo queso","pollo, queso y aceituna"],
  ["Pollo","Pollo reques贸n","pollo y reques贸n"],
  ["Pollo","Pollo mostaza","pollo a la mostaza"],
  ["Verdura","Palmito","jam贸n y salsa golf"],
  ["Verdura","Acelga","cebolla, morr贸n y huevo"],
  ["Verdura","Humita","choclo, queso y salsa blanca"],
  ["Verdura","Caprese","queso, tomate y albahaca"],
  ["Mar","At煤n","at煤n, huevo y salsa"],
  ["Mozzarella","Pizza","mozzarella, salsa y or茅gano"],
  ["Mozzarella","Napolitana","mozzarella, jam贸n y morr贸n"],
  ["Queso","Jam贸n y queso","cl谩sica"],
  ["Queso","4 Quesos","catupiri, roquefort, mozzarella y parmesano"],
  ["Dulce","Dulce de leche",""],
  ["Dulce","Nutella",""]
 ]},
 {cat:"Bebidas",items:[
  ["Coca-Cola","Mini","$40",40],
  ["Coca-Cola","Lata","$60",60],
  ["Coca-Cola","600ml","$80",80],
  ["Coca-Cola","2lts","$120",120],
  ["Fanta","Mini","$40",40],
  ["Fanta","Lata","$60",60],
  ["Fanta","600ml","$80",80],
  ["Fanta","2lts","$120",120],
  ["Sprite","Mini","$40",40],
  ["Sprite","Lata","$60",60],
  ["Sprite","600ml","$80",80],
  ["Sprite","2lts","$120",120],
  ["Jugo","Mango","$120",120],
  ["Jugo","Frutilla","$120",120],
  ["Jugo","Naranja","$120",120],
  ["Jugo","Anan谩","$120",120]
 ]},
 {cat:"Cervezas",items:[
  ["Pilsen","Lata","$120",120],
  ["Pilsen","2lts","$180",180],
  ["Patricia","Lata","$120",120],
  ["Patricia","2lts","$220",220],
  ["Glacial","Lata","$110",110]
 ]},
 {cat:"Extras",items:[
  ["Papas fritas","Porci贸n","$120",120],
  ["Aros de cebolla","10 unidades","$120",120],
  ["Nuggets","10 unidades","$120",120]
 ]}
];

let carrito={}, total=0;

function render(){
 let html="";
 productos.forEach(sec=>{
  html+=`<div class="card"><h2>${sec.cat}</h2>`;
  sec.items.forEach(i=>{
   let key=i.join("-");
   carrito[key]=0;
   let precio = i[3] || 60;
   html+=`
   <div class="item">
    <div>
     <div class="name">${i[0]} ${i[1]} $${precio}</div>
     <div class="desc">${i[2]||""}</div>
    </div>
    <div class="controls">
     <button onclick="chg('${key}',-1,${precio})">-</button>
     <span id="${key}">0</span>
     <button onclick="chg('${key}',1,${precio})">+</button>
    </div>
   </div>`;
  });
  html+="</div>";
 });
 document.getElementById("menu").innerHTML=html;
}
function chg(k,d,p){
 carrito[k]+=d;
 if(carrito[k]<0) carrito[k]=0;
 document.getElementById(k).innerText=carrito[k];
 total+=d*p;
 if(total<0) total=0;
 document.getElementById("total").innerText=total;
 resumen();
}
function resumen(){
 let r="";
 for(let k in carrito){
  if(carrito[k]>0) r+=`${k} x${carrito[k]}<br>`;
 }
 document.getElementById("resumen").innerHTML=r;
}
function enviar(){
 let msg="Pedido:%0A";
 for(let k in carrito){
  if(carrito[k]>0) msg+=`${k} x${carrito[k]}%0A`;
 }
 msg+=`%0ATotal: $${total}`;
 msg+=`%0AEntrega: ${entrega.value}`;
 msg+=`%0ANombre: ${nombre.value}`;
 if(entrega.value=="Delivery") msg+=`%0ADirecci贸n: ${direccion.value}`;
 msg+=`%0APago: ${pago.value}`;
 window.open("https://wa.me/598XXXXXXXX?text="+msg,"_blank");
}
render();
</script>

</body>
</html>
