<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>El Rey De Las Empanadas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, sans-serif;
  max-width:540px;
  margin:auto;
  padding:16px;
  background:#fafafa;
}
h1{text-align:center;}
h2{margin-top:24px;border-bottom:2px solid #ddd;}
.item{
  display:grid;
  grid-template-columns:1fr auto auto auto;
  gap:8px;
  align-items:center;
  padding:8px 0;
}
.desc{font-size:13px;color:#777;}
.btn{
  width:34px;height:34px;border:none;border-radius:8px;
}
.plus{background:#2ecc71;color:white;}
.minus{background:#ddd;}
.cart{
  background:white;padding:12px;border-radius:10px;margin-top:20px;
}
.hidden{display:none;}
button.main{
  width:100%;padding:16px;font-size:20px;
  background:#25D366;color:white;border:none;border-radius:14px;
}
button.gray{
  width:100%;padding:12px;font-size:18px;
  background:#444;color:white;border:none;border-radius:12px;
  margin-top:10px;
}
#alerta{
  background:#ffdddd;
  padding:12px;
  border-radius:10px;
  text-align:center;
  margin-bottom:15px;
  color:#a00;
}
@media print{
  body{background:white;}
  button{display:none;}
}
</style>
</head>

<body>

<h1>ğŸ‘‘ El Rey De Las Empanadas</h1>
<p style="text-align:center">ğŸ•’ Delivery 18:30 a 23:00 Â· âŒ Lunes cerrado</p>

<div id="alerta" class="hidden"></div>

<h2>ğŸ¥Ÿ Empanadas $60</h2>

<div class="item">
  <div>
    <strong>Criolla</strong>
    <div class="desc">carne y huevo</div>
  </div>
  <button class="btn minus" onclick="menos('criolla',60)">âˆ’</button>
  <div id="criolla">0</div>
  <button class="btn plus" onclick="mas('criolla',60)">+</button>
</div>

<h2>ğŸ¥¤ Bebidas</h2>

<div class="item">
  <div><strong>Coca/Fanta/Sprite 2L</strong></div>
  <button class="btn minus" onclick="menos('coca2',120)">âˆ’</button>
  <div id="coca2">0</div>
  <button class="btn plus" onclick="mas('coca2',120)">+</button>
</div>

<h2>ğŸšš Entrega</h2>
<label><input type="radio" name="entrega" value="Mostrador"> Retiro en mostrador</label><br>
<label><input type="radio" name="entrega" value="Delivery"> Delivery</label>

<h2>ğŸ’° Pago</h2>
<label><input type="radio" name="pago" value="Efectivo"> Efectivo</label><br>
<label><input type="radio" name="pago" value="Transferencia (enviar comprobante)"> Transferencia</label>

<div class="cart">
  <strong>Total: $<span id="total">0</span></strong><br>
  <small>EnvÃ­o no incluido</small>
</div>

<button class="gray" onclick="mostrarResumen()">ğŸ§¾ Ver resumen</button>
<button class="main" id="enviar" onclick="enviar()">ğŸ“² Enviar pedido</button>

<div id="resumen" class="hidden"></div>

<script>
let total=0;
function mas(id,p){document.getElementById(id).innerText++;total+=p;actualizar();}
function menos(id,p){
 let e=document.getElementById(id);
 if(e.innerText>0){e.innerText--;total-=p;actualizar();}
}
function actualizar(){document.getElementById("total").innerText=total;}

function horarioValido(){
 let ahora=new Date();
 let dia=ahora.getDay(); // lunes=1
 let h=ahora.getHours()+ahora.getMinutes()/60;
 if(dia==1) return false;
 return h>=18.5 && h<=23;
}

function mostrarResumen(){
 let r="RESUMEN DEL PEDIDO<br><br>";
 document.querySelectorAll(".item").forEach(i=>{
  let q=i.children[2].innerText;
  if(q>0) r+=i.querySelector("strong").innerText+" x"+q+"<br>";
 });
 r+="<br>Total: $"+total+"<br><br>";
 r+="<button onclick='window.print()'>ğŸ–¨ï¸ Imprimir</button>";
 document.getElementById("resumen").innerHTML=r;
 document.getElementById("resumen").classList.remove("hidden");
}

function enviar(){
 if(!horarioValido()){
  document.getElementById("alerta").innerText=
   "â›” No estamos tomando pedidos ahora. Horario 18:30 a 23:00. Lunes cerrado.";
  document.getElementById("alerta").classList.remove("hidden");
  return;
 }
 let msg="Pedido:%0A";
 document.querySelectorAll(".item").forEach(i=>{
  let q=i.children[2].innerText;
  if(q>0) msg+=i.querySelector("strong").innerText+" x"+q+"%0A";
 });
 msg+="%0ATotal: $"+total+" (envÃ­o no incluido)";
 window.open("https://wa.me/598XXXXXXXX?text="+msg,"_blank");
}
</script>

</body>
</html>
